
<section class="headline"> 
    <h1>Share your tool with the community:</h1>
</section>


<div class="createNewApp">
<form action="/nutrition/create" method="POST" enctype="multipart/form-data">
	<label class="label" for="">Name of the tool: </label>
	<input type="text" name="name" required>
    {{#if message}}
		<p>{{message}}</p>
        <a href="/nutrition">See what else your community recommended</a>
	{{/if}}
    
    <label class="label"  for="">Image: </label>
    <input type="file" name="appImage" required>

	<label class="label" for="">Description: </label>
	<input class="inputLongText" type="text" name="description" required>


    <h2 class="label" >Rating:</h2> 
         <p class="star-rating">
            <span class="my-star star-1" data-star="1"></span>
            <span class="my-star star-2" data-star="2"></span>
            <span class="my-star star-3" data-star="3"></span>
            <span class="my-star star-4" data-star="4"></span>
            <span class="my-star star-5" data-star="5"></span>
            <input type="hidden" name="rating" readonly id="output"> 

        </p> 

	<button type="submit">Add this App</button>
</form>
</div>


        <script> 
             document.addEventListener('DOMContentLoaded', function(){
                (function(){
                    let star = document.querySelectorAll('.my-star');
                    let i = 0;
                    while (i < star.length){
                        star[i].addEventListener('click', function(){
                            let currentStar = parseInt(this.getAttribute("data-star"));
                            document.querySelector('#output').value = currentStar;
                            let pre = currentStar; //set the current star value
                            while(1 <= pre){
                                if(!document.querySelector('.star-'+pre).classList.contains('is-active')){
                                    document.querySelector('.star-'+pre).classList.add('is-active');
                                    }
                                    --pre;
                                    }
                        let succ = currentStar+1;
                        while(5 >= succ){
                            if(document.querySelector('.star-'+succ).classList.contains('is-active')){
                                document.querySelector('.star-'+succ).classList.remove('is-active');
                                }
                                ++succ;
                                }
                                })
                                i++;
                                }
                        })();
                        })
                    {{!-- wie bekomme ich die Sterne Bewertung jetzt auf die anderen views? --}}  
        </script>




